
Parallel

    var done;
    array.forEach(function (value) {
        var work = doWork(value); 
        done = Q.when(done, functino () {
            return work;
        });
    });
    return done;

Serial

    var done;
    array.forEach(function (value) {
        done = Q.when(done, functino () {
            return doWork(value); 
        });
    });
    return done;

Conditionally Continue Serial

    var otherwise = function () {
    };
    array.forEach(function (value) {
        otherwise = (function (otherwise) {
            return function () {
                var work = doWork(value);
                return Q.when(work, function (work) {
                    if (keepGoing(work)) {
                        return work;
                    } else {
                        return otherwise();
                    }
                });
            };
        })(otherwise);
    });
    return otherwise();

