(function() {
  var app;
  app = require('express').createServer();
  app.register('.coffee', require('coffeekup'));
  app.set('view engine', 'coffee');
  app.get('/', function(req, res) {
    return res.render('index');
  });
  app.get('/login', function(req, res) {
    return res.render('login', {
      locals: {
        a_local_var: 'local'
      },
      context: {
        a_context_var: 'context'
      }
    });
  });
  app.get('/inline', function(req, res) {
    return res.send(require('coffeekup').render(function() {
      return h1('This is an inline template.');
    }));
  });
  app.listen(3000);
  console.log("Listening on 3000...");
}).call(this);
